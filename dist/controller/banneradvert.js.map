{"version":3,"sources":["../../src/controller/banneradvert.js"],"names":["config","db","api","post","req","res","newBannerAdvert","banneradverttitle","body","banneradvertdesc","banneradvertimageUrl","reeq","newBannerAddvert","save","err","status","json","message","get","find","bannerAdverts","put","findById","params","id","bannerAdvert","delete","remove"],"mappings":"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","file":"banneradvert.js","sourcesContent":["import mongoose from 'mongoose';\nimport { Router } from 'express';\nimport bodyParser from 'body-parser';\nimport BannerAdvert from '../model/banneradvert';\n\nimport { authenticate } from '../middleware/authMiddleware';\n\nexport default({config, db }) => {\n  let api = Router();\n\n//'/banneraddvert/add' - Add new Banner advert\napi.post('/add', (req, res) => {\n  let newBannerAdvert = new BannerAdvert();\n  newBannerAdvert.banneradverttitle = req.body.banneradverttitle;\n  newBannerAdvert.banneradvertdesc = req.body.banneradvertdesc;\n  newBannerAdvert.banneradvertimageUrl = reeq.body.banneradvertimageUrl;\n\n  newBannerAddvert.save(err => {\n    if (err) {\n      res.status(500).json({message: err});\n      return;\n    }\n      res.status(200).json({message: 'New banner advert save successfully'});\n  });\n});\n\n//'/BannerAdvert/' - Get all banner advert\napi.get('/', (req, res) => {\n  BannerAdvert.find({}, (err, bannerAdverts) => {\n    if (err) {\n      res.status(500).json({message: `An erro has occured ${err.message}`})\n    }\n      res.status(200).json({bannerAdverts});\n  });\n});\n\n//'/banneraddvert/update/:id' - Update one banner advert recoord\napi.put('/update/:id', (req, res) => {\n  BannerAdvert.findById(req.params.id, (err, bannerAdvert) => {\n    if (err) {\n      res.status(500).json({message: `An error has occure ${err.message}`});\n      return;\n    }\n      bannerAdvert.banneradverttitle = req.body.banneradverttitle;\n      bannerAdvert.banneradvertdesc = req.body.banneradvertdesc;\n      bannerAdvert.banneradvertimageUrl = req.body.banneradvertimageUrl;\n\n      bannerAdvert.save(err => {\n        if (err) {\n          res.status(500).json({message: `An error has occured ${err.message}`});\n          return;\n        }\n        res.status(200).json({message: `Banner advert with id - ${req.params.id} has been updated` });\n      });\n  });\n});\n\n//'/banneraddvert/delete/:id' - Delete one banner advert\napi.delete('/delete/:id', (req, res) => {\n  BannerAdvert.findById(req.params.id, (err, bannerAdvert) => {\n      if (err) {\n        res.status(500).json({message: `An error has occured ${err.message}`});\n        return;\n      }\n        bannerAdvert.remove(err => {\n          if (err) {\n            res.status(500).json({message: `An error has occured ${err.message}`});\n            return;\n          }\n          res.status(200).json({message: `Banner advert with id - ${req.params.id} has been deleted` });\n      });\n  });\n});\n\n\n  return api;\n}\n"]}